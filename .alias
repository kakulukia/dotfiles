# $Id: skel.alias,v 1.2 1998/04/20 11:41:32 luisgh Exp $
# Luis Francisco González <luisgh@debian.org> based on that of Vadik Vygonets
# Please check /usr/doc/tcsh/examples/alias to see other possible values.
alias l='ls -lhG'
alias ll='ls -alh'
alias lc="l | wc -l"

# create folder and cd into it
function md
{
    command mkdir $1 && cd $1
}
alias rd='rm -rf'
alias ..='cd ..'
alias root="sudo bash"
alias du1="du -d 1 -h"
alias df="df -h"
alias scr='screen -r'
alias tgz='tar czfv'
alias utgz='tar xzfv'
alias gitlog='git log --pretty=oneline -n 35 --graph --abbrev-commit'
alias gs='git status -s'
alias gu='git submodule update --init --recursive'
alias gd='git diff --word-diff'
alias gf='git fetch --all --prune'
alias sv='sudo supervisorctl'
alias start-docker="/Applications/Docker/Docker\ Quickstart\ Terminal.app/Contents/Resources/Scripts/start.sh"

alias shell='python manage.py shell_plus'
alias v='f -e vim' # quick opening files with vim
alias c='z'
alias s='subl'
alias o='open'
alias stree='open -a SourceTree .'
alias root='sudo zsh'
alias please='sudo'
alias upgrade='sudo apt-get update && sudo apt-get -y upgrade && sudo apt-get -y dist-upgrade && sudo apt-get -y autoremove
'

pipsave(){
  pip install $1 && pip freeze > requirements.txt
}

alias pipsave=pipsave

watcher(){
  fswatch -o $1 | xargs -n1 -I{} $2 $1
}

web_server(){
  export IP=`localip`
  echo "http://$IP:8000/"
  python -m SimpleHTTPServer
}

alias watch=watcher

# Globals
alias -g G="| grep"
alias -g L="| less"

# Get week number
alias week='date +%V'

# Stopwatch
alias timer='echo "Timer started. Stop with Ctrl-D." && date && time cat && date'

# IP addresses
alias ip="dig +short myip.opendns.com @resolver1.opendns.com"

alias localip="ifconfig | sed -En 's/127.0.0.1//;s/.*inet (addr:)?(([0-9]*\.){3}[0-9]*).*/\2/p'"
alias web=web_server

alias ips="ifconfig -a | grep -o 'inet6\? \(addr:\)\?\s\?\(\(\([0-9]\+\.\)\{3\}[0-9]\+\)\|[a-fA-F0-9:]\+\)' | awk '{ sub(/inet6? (addr:)? ?/, \"\"); print }'"

# Flush Directory Service cache
alias flush="dscacheutil -flushcache && killall -HUP mDNSResponder"

# View HTTP traffic
alias sniff="sudo ngrep -d 'en1' -t '^(GET|POST) ' 'tcp and port 80'"
alias httpdump="sudo tcpdump -i en1 -n -s 0 -w - | grep -a -o -E \"Host\: .*|GET \/.*\""

# Stuff I never really use but cannot delete either because of http://xkcd.com/530/
alias stfu="osascript -e 'set volume output muted true'"
alias pumpitup="osascript -e 'set volume 7'"

# Faster npm for Europeans
command -v npm > /dev/null && alias npme="npm --registry http://registry.npmjs.eu/"

alias vfk="cd $VFK_HOME; ./internal/bin/vfk.sh"
test -e "${HOME}/.iterm2_shell_integration.zsh" && source "${HOME}/.iterm2_shell_integration.zsh"
